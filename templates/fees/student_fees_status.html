{% extends "base.html" %}
{% block page_title %}Student Fees Status{% endblock page_title %}
{% block content %}
<table id="datatable-checkbox" class="table table-striped table-bordered bulk_action" style="width:100%">
    <thead class="thead-dark">
        <tr>
            <th>Student</th>
            <th>Total Fees</th>
            <th>Amount Paid</th>
            <th>Balance</th>
            <th>Payment Status</th>
        </tr>
    </thead>
    <tbody>
        {% for student_fee in student_fees_data %}
        <tr>
            <td>{{ student_fee.student.student_name }}</td>
            <td>{{ student_fee.total_amount }}</td>
            <td>{{ student_fee.amount_paid }}</td>
            <td>
                {% if student_fee.balance == "0" %}
                    <span class="badge bg-secondary">0</span>
                {% elif "CR" in student_fee.balance %}
                    <span class="badge bg-success">{{ student_fee.balance }}</span>
                {% elif "DR" in student_fee.balance %}
                    <span class="badge bg-danger">{{ student_fee.balance }}</span>
                {% else %}
                    {{ student_fee.balance }}
                {% endif %}
            </td>
            <td>
                {% if student_fee.payment_status == "Cleared" %}
                <span class="badge bg-success">{{ student_fee.payment_status }}</span>
                {% elif student_fee.payment_status == "Defaulter" %}
                <span class="badge bg-danger">{{ student_fee.payment_status }}</span>
                {% else %}
                <span class="badge bg-warning">{{ student_fee.payment_status }}</span>
                {% endif %}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5" class="text-center">No students found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
